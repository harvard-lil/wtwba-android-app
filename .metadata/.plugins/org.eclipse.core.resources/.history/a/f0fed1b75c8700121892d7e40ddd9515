package edu.harvad.law.librarylab.wtwba;

import java.util.ArrayList;
import java.util.List;

import android.app.ListActivity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ListView;


public class MainActivity extends ListActivity {

	public final static String EXTRA_MESSAGE = "edu.harvad.law.librarylab.wtwba.MESSAGE";
	
	
    @Override
    public void onCreate(Bundle savedInstanceState) {
    	super.onCreate(savedInstanceState);
    	
    	
        setContentView(R.layout.activity_main);
    	
    	DatabaseHandler db = new DatabaseHandler(this);
    	
    	
    	String[] values = new String[] { "Android", "iPhone", "WindowsMobile",
    	  "Blackberry", "WebOS", "Ubuntu", "Windows7", "Max OS X",
    	  "Linux", "OS/2", "asdfa", "asds dssdsd" };

    	    	
    	
    	
    	//Context context = getApplicationContext();
   	//context.deleteDatabase("wtwbaManager");
    	
    	
    	
    	


        
        List<Item> items = db.get_all_items();
        List<String> items_for_view = new ArrayList<String>();
        
        
        
        for (Item item : items) {
            items_for_view.add(item.get_title());
            Log.w("adding item title to list: ", item.get_title());
        }
        
        Log.w("size of view items", String.valueOf(items_for_view.size()));

        String[] v_ar = new String[items_for_view.size()];
        v_ar = items_for_view.toArray(v_ar);
        
        Log.w("size of view items", v_ar[0]);
        
      //add header to list
        ListView lv = getListView();
        
        
      //add some list items
        String listItems[] = {"List Item One", "List Item Two", "List Item Three", "List Item Four", "List Item Five"};
        ArrayAdapter adapter = new ArrayAdapter<String>(this,  android.R.layout.simple_list_item_1, listItems);
        
        
        ListView listView = (ListView) findViewById(R.id.androidlist);
        listView.setAdapter(adapter);
        
        
        
        
    }

    /*@Override
    public boolean onCreateOptionsMenu(Menu menu) {
        getMenuInflater().inflate(R.menu.activity_main, menu);
        return true;
    }*/
    
    /** Called when the user clicks the scan button */
    public void scanCode(View view) {
    	
    	Intent intent = new Intent(this, ScanActivity.class);
        startActivity(intent);
    	
        //Intent intent = new Intent("com.google.zxing.client.android.SCAN");
        //intent.putExtra("SCAN_MODE", "QR_CODE_MODE");
        //startActivityForResult(intent, 0);
    } 
}